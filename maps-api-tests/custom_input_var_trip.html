<!DOCTYPE html>
<html>
  <head>
    <title>Google Maps API Example</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBxGK0zOZL2VF3vaikld24WgCdGN5cDSNY"></script>
  </head>
  <body>
    <div id="map" style="height: 400px; width: 100%;"></div>
    <div id="eta" style="margin-top: 10px;"></div>
    <div>
      <label for="startLocation">Start Location:</label>
      <input type="text" id="startLocation" placeholder="Enter starting address">
      <label for="endLocation">End Location:</label>
      <input type="text" id="endLocation" placeholder="Enter destination address">
      <button id="calculateRoute">Calculate Route</button>
    </div>
    <script>
      var map, directionsService, directionsDisplay;
      
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: { lat: 39.993330, lng: -75.243300 },
          zoom: 10,
        });

        // Create a DirectionsService
        directionsService = new google.maps.DirectionsService();

        // Create a DirectionsRenderer to display the route on the map
        directionsDisplay = new google.maps.DirectionsRenderer({ map: map });

        // Set up the event listener for the "Calculate Route" button
        document.getElementById("calculateRoute").addEventListener("click", calculateRoute);
      }

      function calculateRoute() {
        var startLocation = document.getElementById("startLocation").value;
        var endLocation = document.getElementById("endLocation").value;

        var request = {
          origin: startLocation,
          destination: endLocation,
          travelMode: "DRIVING",
        };

        directionsService.route(request, function (result, status) {
          if (status == "OK") {
            directionsDisplay.setDirections(result);
            var route = result.routes[0];
            var leg = route.legs[0];
            var eta = leg.duration.text;
            document.getElementById("eta").innerHTML = "ETA: " + eta;
          } else {
            document.getElementById("eta").innerHTML = "Could not calculate route. Please check the addresses.";
          }
        });
      }

      initMap();
    </script>
  </body>
</html>
